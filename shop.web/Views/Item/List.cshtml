@using shop.web.Entities
@model List<shop.web.Entities.Item>;
@{
    ViewData["Title"] = "Produtos";
}

<div class="flex justify-between mb-4 ml-1 mr-4">
    <button asp-action="Table/List" class="bg-blue-400 hover:bg-blue-500 text-white font-bold p-2 rounded-md">Voltar</button>

    <div class="flex gap-2">
        <input id="description" class="rounded-md border px-2" type="text" placeholder="Pesquisar" />
        <button onclick="loadItems()" class="bg-blue-400 hover:bg-blue-500 text-white font-bold p-2 rounded-md">Pesquisar</button>
    </div>
</div>


<div>

       Mesa 01 - Valor Atual: R$ 200,00 - Hora de Abertura: 21:00

</div>


<div id="details" class="flex sm:flex-column gap-3 md:flex-wrap md:ml-5">

    <partial name="~/Views/Item/_Detail.cshtml" for="@Model"/>

</div>

<script>

    async function loadItems() {

        const inputValue = document.getElementById('description');
        const container = document.getElementById('details')
        const url = '/Item/ListPartial';

        try {

            const response = await fetch(
                `${url}?description=${inputValue.value}`, {
                method: 'GET'
            }); 

            if (response.ok) {
                const html = await response.text();
                container.innerHTML = html;
            }

        } catch (error) {
            console.log(error)
        }

    }


    function teste(id) 
    {
        console.log(id);
        console.log('funciona');


    }


</script>